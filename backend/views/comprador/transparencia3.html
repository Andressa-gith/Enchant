<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enchant | Notas de auditoria</title>
    <link rel="shortcut icon" href="https://i.ibb.co/7NybZ3W7/1.png" type="image/x-icon">

    <link
        href="https://fonts.googleapis.com/css2?family=Passion+One:wght@700&family=Lexend+Deca:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" />

    <link rel="stylesheet" href="/styles/global.css">
    <link rel="stylesheet" href="/styles/comprador/relatorios-contratos-auditoria.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script src="/scripts/authGuard.js" type="module"></script>
    <script src="/scripts/layouts/comprador/sidebar.js" type="module" defer></script>
    <script src="/scripts/layouts/comprador/headercomprador.js" type="module" defer></script>
    <script src="/scripts/comprador/transparencia3.js" type="module" defer></script>
    <!--LOADER-->
    <script src="/scripts/layouts/enchant/loader.js" type="module" defer></script>
</head>

<body>
    <!--LOADER-->

    <body class="auto-loader">
        <header id="header-container"></header>
        <aside id="sidebar-container"></aside>

        <main id="main">
            <div class="container">
                <h1>Notas de auditoria</h1>

                <p>Monitore e registre todas as ações críticas para garantir a integridade e a transparência das
                    operações.</p>

                <div class="upload-section">
                    <div class="validation-info">
                        <h4>Requisitos para notas de auditoria:</h4>
                        <ul>
                            <li>Título deve identificar claramente o tipo e período da auditoria</li>
                            <li>Data não pode ser futura nem anterior a 5 anos</li>
                            <li>Arquivo em formato PDF ou DOC (máximo 20MB)</li>
                        </ul>
                    </div>

                    <div class="success-message" id="success-audits"></div>
                    <div class="alert-message" id="alert-audits"></div>

                    <h2>Adicionar nota de auditoria</h2>
                    <form id="audits-form">
                        <div class="audit-form">
                            <div class="form-group required">
                                <label for="audit-title">Título da auditoria</label>
                                <input type="text" id="audit-title"
                                    placeholder="Ex: Auditoria Interna - 1º Semestre 2024">
                                <div class="error-message" id="audit-title-error"></div>
                            </div>
                            <div class="form-group required">
                                <label for="audit-date">Data da auditoria</label>
                                <input type="date" id="audit-date">
                                <div class="error-message" id="audit-date-error"></div>
                            </div>
                            <div class="form-group required">
                                <label for="audit-type">Tipo de auditoria</label>
                                <select id="audit-type">
                                    <option disabled selected>Selecione o tipo</option>
                                    <option value="Auditoria interna">Auditoria interna</option>
                                    <option value="Auditoria externa">Auditoria externa</option>
                                    <option value="Revisão de processos">Revisão de processos</option>
                                    <option value="Auditoria de compliance">Auditoria de compliance</option>
                                    <option value="Auditoria financeira">Auditoria financeira</option>
                                </select>
                                <div class="error-message" id="audit-type-error"></div>
                            </div>
                            <div class="form-group required">
                                <label for="audit-status">Status</label>
                                <select id="audit-status">
                                    <option disabled selected>Selecione o status</option>
                                    <option value="Aprovado">Aprovado</option>
                                    <option value="Em andamento">Em andamento</option>
                                    <option value="Rejeitado">Rejeitado</option>
                                    <option value="Em revisão">Em revisão</option>
                                </select>
                                <div class="error-message" id="audit-status-error"></div>
                            </div>
                            <div class="form-group full-width required">
                                <label>Arquivo da auditoria</label>
                                <div class="file-upload" onclick="document.getElementById('audit-file').click()">
                                    <svg class="icon" viewBox="0 0 24 24"
                                        style="width: 48px; height: 48px; margin-bottom: 10px;">
                                        <path
                                            d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.98C19.47,12.66 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11.02L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11.02C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.66 4.57,12.98L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.98Z" />
                                    </svg>
                                    <p>Clique para selecionar o arquivo ou arraste aqui</p>
                                    <small>PDF, DOC aceitos (máximo 20MB)</small>
                                    <input type="file" id="audit-file" accept=".pdf,.doc,.docx">
                                </div>
                                <div class="error-message" id="audit-file-error"></div>
                            </div>
                        </div>
                        <button type="submit" class="upload-btn">Adicionar auditoria</button>
                    </form>

                    <div class="uploaded-items">
                        <h3>Auditorias publicadas</h3>
                        <div id="loader" style="display: none; text-align: center; padding: 2rem;">
                            <div class="spinner"></div> Carregando...
                        </div>
                        <div id="empty-state" style="display: none; text-align: center; padding: 2rem;">Nenhuma
                            auditoria
                            publicada ainda.</div>
                        <div class="audit-cards" id="audits-list">
                        </div>
                    </div>
                </div>
            </div>
        </main>

    </body>

</html>