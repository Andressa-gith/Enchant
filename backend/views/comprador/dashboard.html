<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale-1.0">
    <title>Enchant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"/>
    <link rel="shortcut icon" href="https://i.ibb.co/7NybZ3W7/1.png" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="/styles/comprador/dashboard.css">
    <link rel="stylesheet" href="/styles/global.css">
    <script src="/scripts/layouts/comprador/sidebar.js" type="module" defer></script>
    <script src="/scripts/layouts/comprador/headercomprador.js" type="module" defer></script>
    <script src="/scripts/comprador/dashboard.js" type="module" defer></script>
</head>
<body>
    <header id="header-container"></header>
    <aside id="sidebar-container"></aside>
    <main id="main">
        <div class="dashboard-container">
            <header class="dashboard-header">
                <h1 id="boas-vindas">Carregando...</h1>
                <div class="header-filters">
                    <div class="date-picker-group">
                        <label for="startDateFilter">De:</label>
                        <input type="date" id="startDateFilter" class="form-control form-control-sm">
                        <label for="endDateFilter">Até:</label>
                        <input type="date" id="endDateFilter" class="form-control form-control-sm">
                        <button id="filterBtn" class="btn btn-primary btn-sm">
                            <i class="bi bi-funnel-fill"></i> Filtrar
                        </button>
                        <button id="resetBtn" class="btn-reset">
                            <i class="bi bi-arrow-clockwise"></i>
                        </button>
                    </div>
                </div>
            </header>
            
            <section class="summary-section">
                <div class="summary-card"><div class="summary-card-icon"><i class="bi bi-box-seam"></i></div><div class="summary-card-info"><div class="summary-card-value" id="kpi-total-itens">--</div><div class="summary-card-label">Itens em Estoque (Período)</div></div></div>
                <div class="summary-card"><div class="summary-card-icon"><i class="bi bi-cash-coin"></i></div><div class="summary-card-info"><div class="summary-card-value" id="kpi-total-financeiro">R$ --</div><div class="summary-card-label">Saldo Financeiro (Período)</div></div></div>
                <div class="summary-card"><div class="summary-card-icon"><i class="bi bi-people-fill"></i></div><div class="summary-card-info"><div class="summary-card-value" id="kpi-doadores-unicos">--</div><div class="summary-card-label">Doadores (Período)</div></div></div>
                <div class="summary-card"><div class="summary-card-icon"><i class="bi bi-tag-fill"></i></div><div class="summary-card-info"><div class="summary-card-value" id="kpi-principal-categoria">--</div><div class="summary-card-label">Principal Categoria Recebida</div></div></div>
            </section>

            <section class="chart-and-sidebar-section">
                <div class="chart-wrapper"><article class="chart-card"><header class="chart-header"><h2 class="chart-title">Visão Geral de Doações</h2><div class="btn-group view-filter-group" role="group"><button type="button" class="btn btn-view-filter active" id="btn-chart-estoque">Estoque (Período)</button><button type="button" class="btn btn-view-filter" id="btn-chart-fluxo">Fluxo (E x S)</button></div><select id="filtro-grafico-categoria" class="form-select form-select-sm" style="max-width: 200px;"></select></header><div class="chart-container"><canvas id="doacoesChart"></canvas></div></article></div>
                <aside class="points-sidebar"><div class="sidebar-card"><h3 class="sidebar-title"><i class="bi bi-clock-history"></i> Últimas Atividades</h3><div id="lista-atividades-recentes"><p class="text-muted">Carregando...</p></div></div></aside>
            </section>
            
            <section class="stats-section">
                <h3 class="section-title">Estoque Atual por Categoria</h3>
                <div class="stats-grid-row">
                    <div class="stat-card"><div class="stat-number" id="stat-alimentos">--</div><div class="stat-label">Alimentos (Kg)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-roupas">--</div><div class="stat-label">Roupas (Peças)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-calcados">--</div><div class="stat-label">Calçados (Pares)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-higiene">--</div><div class="stat-label">Higiene (Un.)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-limpeza">--</div><div class="stat-label">Limpeza (Un.)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-brinquedos">--</div><div class="stat-label">Brinquedos/Livros (Un.)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-moveis">--</div><div class="stat-label">Móveis (Un.)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-eletro">--</div><div class="stat-label">Eletrodomésticos (Un.)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-cama">--</div><div class="stat-label">Roupas de Cama (Peças)</div></div>
                    <div class="stat-card"><div class="stat-number" id="stat-racao">--</div><div class="stat-label">Ração para Animais (Kg)</div></div>
                </div>
            </section>
            </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>